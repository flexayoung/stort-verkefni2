{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["class VideoLoader {\r\n  constructor(container) {\r\n    this.container = container;\r\n    this.load();\r\n  }\r\n\r\n  load() {\r\n    const http = new XMLHttpRequest();\r\n\r\n    http.onreadystatechange = function () {\r\n      if (http.readyState === 4 && http.status === 200) {\r\n        this.storeData(http.response);\r\n        this.constructData();\r\n      }\r\n    }.bind(this);\r\n\r\n    http.open('GET', 'videos.json', true);\r\n    http.send();\r\n  }\r\n\r\n\r\n  storeData(data) {\r\n    const dataObject = JSON.parse(data);\r\n    this.categories = dataObject.categories;\r\n    this.videos = dataObject.videos;\r\n  }\r\n\r\n  constructData() {\r\n    for (let i = 0; i < this.categories.length; i += 1) {\r\n      const category = document.createElement('div');\r\n      category.className = 'category';\r\n\r\n      const h1 = document.createElement('H1');\r\n      let textNode = document.createTextNode(this.categories[i].title);\r\n\r\n      h1.appendChild(textNode);\r\n      category.appendChild(h1);\r\n\r\n      const videoContainer = document.createElement('div');\r\n      videoContainer.className = 'videolist';\r\n\r\n      const row = document.createElement('div');\r\n      row.className = 'videolist__row';\r\n\r\n\r\n      for (let k = 0; k < this.categories[i].videos.length; k += 1) {\r\n        const video = this.getVideoFromId(this.categories[i].videos[k]);\r\n\r\n        const col = document.createElement('div');\r\n        col.className = 'videolist__col';\r\n\r\n        const card = document.createElement('a');\r\n        card.className = 'card';\r\n        card.href = `/player.html?id=${video.id}`;\r\n\r\n        const imageContainer = document.createElement('div');\r\n        imageContainer.className = 'card__image';\r\n\r\n        const image = document.createElement('IMG');\r\n        image.className = 'card__img';\r\n        image.src = video.poster;\r\n\r\n        const length = document.createElement('span');\r\n        length.className = 'card__length';\r\n        length.innerHTML = this.getLengthString(video.duration);\r\n\r\n        imageContainer.appendChild(image);\r\n        imageContainer.appendChild(length);\r\n        card.appendChild(imageContainer);\r\n\r\n        const content = document.createElement('div');\r\n        content.className = 'card__content';\r\n\r\n        const h3 = document.createElement('H3');\r\n        textNode = document.createTextNode(video.title);\r\n        h3.className = 'card__heading';\r\n\r\n        h3.appendChild(textNode);\r\n        content.appendChild(h3);\r\n\r\n        const p = document.createElement('p');\r\n        p.innerHTML = this.getAgeOfVideo(video.created);\r\n\r\n        content.appendChild(p);\r\n        card.appendChild(content);\r\n        col.append(card);\r\n\r\n        row.append(col);\r\n      }\r\n      videoContainer.appendChild(row);\r\n      category.appendChild(videoContainer);\r\n\r\n      const border = document.createElement('div');\r\n      border.className = 'category__border';\r\n\r\n      category.appendChild(border);\r\n\r\n      this.container.appendChild(category);\r\n    }\r\n  }\r\n\r\n  getVideoFromId(videoId) {\r\n    const id = videoId;\r\n    for (let i = 0; i < this.videos.length; i += 1) {\r\n      if (this.videos[i].id === id) return this.videos[i];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getLengthString(time) {\r\n    const minutes = Math.floor(time / 60);\r\n    let seconds = Math.floor(time % 60);\r\n    if (seconds < 10) seconds = `0${seconds}`;\r\n    return (`${minutes}:${seconds}`);\r\n  }\r\n\r\n  getAgeOfVideo(dateCreated) {\r\n    const age = new Date(dateCreated);\r\n    const now = new Date();\r\n    const diff = now - age;\r\n    const days = Math.ceil(diff / (1000 * 60 * 60 * 24));\r\n    const hours = Math.ceil(((diff / (1000 * 60)) % 60));\r\n\r\n    if (days > 365) {\r\n      const year = Math.floor(days / 365);\r\n      if (year === 1) return `Fyrir ${year} ári síðan`;\r\n      return `Fyrir ${year} árum síðan`;\r\n    } else if (days > 30) {\r\n      const month = Math.floor(days / 30);\r\n      if (month === 1) return `Fyrir ${month} mánuði síðan`;\r\n      return `Fyrir ${month} mánuðum síðan`;\r\n    } else if (days > 7) {\r\n      const week = Math.floor(days / 7);\r\n      if (week === 1) return `Fyrir ${week} viku síðan`;\r\n      return `Fyrir ${week} vikum síðan`;\r\n    } else if (hours > 24) {\r\n      if (days === 1) return `Fyrir ${days} degi síðan`;\r\n      return `Fyrir ${days} dögum síðan`;\r\n    }\r\n\r\n    if (hours === 1) return `Fyrir ${hours} klukkutíma síðan`;\r\n    return `Fyrir ${hours} klukkutímum síðan`;\r\n  }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  if (window.location.pathname === '/') {\r\n    const videoLoader = new VideoLoader(document.querySelector('#index'));\r\n  }\r\n});\r\n"]}