{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["class VideoLoader {\n  constructor(container) {\n    this.container = container;\n  }\n\n  load() {\n    const http = new XMLHttpRequest();\n\n    http.onreadystatechange = function checkState() {\n      if (http.readyState === 4 && http.status === 200) {\n        this.storeData(http.response);\n        this.constructData();\n      }\n    }.bind(this);\n\n    http.open('GET', 'videos.json', true);\n    http.send();\n  }\n\n\n  storeData(data) {\n    const dataObject = JSON.parse(data);\n    this.categories = dataObject.categories;\n    this.videos = dataObject.videos;\n  }\n\n  constructData() {\n    for (let i = 0; i < this.categories.length; i += 1) {\n      const category = document.createElement('div');\n      category.className = 'category';\n\n      const h1 = document.createElement('H1');\n      let textNode = document.createTextNode(this.categories[i].title);\n\n      h1.appendChild(textNode);\n      category.appendChild(h1);\n\n      const videoContainer = document.createElement('div');\n      videoContainer.className = 'videolist';\n\n      const row = document.createElement('div');\n      row.className = 'videolist__row';\n\n\n      for (let k = 0; k < this.categories[i].videos.length; k += 1) {\n        const video = this.getVideoFromId(this.categories[i].videos[k]);\n\n        const col = document.createElement('div');\n        col.className = 'videolist__col';\n\n        const card = document.createElement('a');\n        card.className = 'card';\n        card.href = `/player.html?id=${video.id}`;\n\n        const imageContainer = document.createElement('div');\n        imageContainer.className = 'card__image';\n\n        const image = document.createElement('IMG');\n        image.className = 'card__img';\n        image.src = video.poster;\n\n        const length = document.createElement('span');\n        length.className = 'card__length';\n        length.innerHTML = this.getLengthString(video.duration);\n\n        imageContainer.appendChild(image);\n        imageContainer.appendChild(length);\n        card.appendChild(imageContainer);\n\n        const content = document.createElement('div');\n        content.className = 'card__content';\n\n        const h3 = document.createElement('H3');\n        textNode = document.createTextNode(video.title);\n        h3.className = 'card__heading';\n\n        h3.appendChild(textNode);\n        content.appendChild(h3);\n\n        const p = document.createElement('p');\n        p.innerHTML = this.getAgeOfVideo(video.created);\n\n        content.appendChild(p);\n        card.appendChild(content);\n        col.append(card);\n\n        row.append(col);\n      }\n      videoContainer.appendChild(row);\n      category.appendChild(videoContainer);\n\n      const border = document.createElement('div');\n      border.className = 'category__border';\n\n      category.appendChild(border);\n\n      this.container.appendChild(category);\n    }\n  }\n\n  getVideoFromId(videoId) {\n    const id = videoId;\n    for (let i = 0; i < this.videos.length; i += 1) {\n      if (this.videos[i].id === id) return this.videos[i];\n    }\n    return null;\n  }\n\n  getLengthString(time) {\n    const minutes = Math.floor(time / 60);\n    let seconds = Math.floor(time % 60);\n    if (seconds < 10) seconds = `0${seconds}`;\n    return (`${minutes}:${seconds}`);\n  }\n\n  getAgeOfVideo(dateCreated) {\n    const age = new Date(dateCreated);\n    const now = new Date();\n    const diff = now - age;\n    const days = Math.ceil(diff / (1000 * 60 * 60 * 24));\n    const hours = Math.ceil(((diff / (1000 * 60)) % 60));\n\n    if (days > 365) {\n      const year = Math.floor(days / 365);\n      if (year === 1) return `Fyrir ${year} ári síðan`;\n      return `Fyrir ${year} árum síðan`;\n    } else if (days > 30) {\n      const month = Math.floor(days / 30);\n      if (month === 1) return `Fyrir ${month} mánuði síðan`;\n      return `Fyrir ${month} mánuðum síðan`;\n    } else if (days > 7) {\n      const week = Math.floor(days / 7);\n      if (week === 1) return `Fyrir ${week} viku síðan`;\n      return `Fyrir ${week} vikum síðan`;\n    } else if (hours > 24) {\n      if (days === 1) return `Fyrir ${days} degi síðan`;\n      return `Fyrir ${days} dögum síðan`;\n    }\n\n    if (hours === 1) return `Fyrir ${hours} klukkutíma síðan`;\n    return `Fyrir ${hours} klukkutímum síðan`;\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (window.location.pathname === '/') {\n    const videoLoader = new VideoLoader(document.querySelector('#index'));\n    videoLoader.load();\n  }\n});\n"]}